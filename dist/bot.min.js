var Bot=function(t){function r(i){if(n[i])return n[i].exports;var e=n[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n={};return r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,i){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=6)}([function(t,r){function n(t,r){return function(n,i){n=0|+n,i=i||{};var e=!("scalars"in i)||i.scalars,o=!("vectors"in i)||i.vectors,s=e&&o,u=[];if(!e&&!o)throw new Error("Your function must accept either scalars or vectors");if(u.push("return function "+t+n+"(vec) {"),u.push("var i = arguments.length"),u.push("while (--i) {"),s&&u.push("if (Array.isArray(arguments[i])) {"),o)for(var h=0;h<n;h+=1)u.push("vec["+h+"] "+r+"= arguments[i]["+h+"]");if(s&&u.push("} else {"),e)for(var h=0;h<n;h+=1)u.push("vec["+h+"] "+r+"= arguments[i]");return s&&u.push("}"),u.push("}"),u.push("return vec"),u.push("}"),Function(u.join("\n"))()}}t.exports=n},function(t,r){(function(){var t,n,i,e,o,s,u,h,c,a=[].slice,p={}.hasOwnProperty,f=function(t,r){function n(){this.constructor=t}for(var i in r)p.call(r,i)&&(t[i]=r[i]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};r.compose=function(t,r){var n;return n=r.copy(),n.rightComposeWith(t),n},t=function(){function t(){var t;t=1<=arguments.length?a.call(arguments,0):[],0===t.length?(this.m00=1,this.m01=0,this.m10=0,this.m11=1,this.v0=0,this.v1=0):1===t.length?(this.m00=t[0].m00,this.m01=t[0].m01,this.m10=t[0].m10,this.m11=t[0].m11,this.v0=t[0].v0,this.v1=t[0].v1):(this.m00=t[0],this.m01=t[1],this.m10=t[2],this.m11=t[3],this.v0=t[4],this.v1=t[5])}return t.prototype.oneLineSummary=function(){return"M = ["+this.m00.toPrecision(3)+" "+this.m01.toPrecision(3)+" "+this.m10.toPrecision(3)+" "+this.m11.toPrecision(3)+"]   V = ("+this.v0.toPrecision(3)+",  "+this.v1.toPrecision(3)+")   scale = "+this.getXScale().toPrecision(3)+" x "+this.getYScale().toPrecision(3)},t.prototype.copy=function(){return new t(this)},t.prototype.setCtxTransform=function(t){return t.setTransform(this.m00,this.m10,this.m01,this.m11,this.v0,this.v1)},t.prototype.applyToCtx=function(t){return t.transform(this.m00,this.m10,this.m01,this.m11,this.v0,this.v1)},t.prototype.transformPair=function(t,r){var n,i;return n=this.m00*t+this.m01*r+this.v0,i=this.m10*t+this.m11*r+this.v1,[n,i]},t.prototype.transformVec=function(t){var r,n;return r=this.m00*t[0]+this.m01*t[1]+this.v0,n=this.m10*t[0]+this.m11*t[1]+this.v1,t[0]=r,t[1]=n},t.prototype.rightComposeWith=function(t){var r,n,i,e,o,s;return i=t.m00*this.m10+t.m10*this.m11,e=t.m01*this.m10+t.m11*this.m11,s=t.v0*this.m10+t.v1*this.m11+this.v1,r=t.m00*this.m00+t.m10*this.m01,n=t.m01*this.m00+t.m11*this.m01,o=t.v0*this.m00+t.v1*this.m01+this.v0,this.m00=r,this.m01=n,this.m10=i,this.m11=e,this.v0=o,this.v1=s},t.prototype.leftComposeWith=function(t){var r,n,i,e,o,s;return i=this.m00*t.m10+this.m10*t.m11,e=this.m01*t.m10+this.m11*t.m11,s=this.v0*t.m10+this.v1*t.m11+t.v1,r=this.m00*t.m00+this.m10*t.m01,n=this.m01*t.m00+this.m11*t.m01,o=this.v0*t.m00+this.v1*t.m01+t.v0,this.m00=r,this.m01=n,this.m10=i,this.m11=e,this.v0=o,this.v1=s},t.prototype.deconstruct=function(){var t,r,n,i,e,o;return r=Math.sqrt(this.m00*this.m00+this.m10*this.m10),i=(this.m00*this.m11-this.m10*this.m01)/r,e=(this.m00*this.m01+this.m10*this.m11)/(this.m00*this.m11-this.m10*this.m01),t=Math.atan2(this.m10,this.m00),n=this.v0,o=this.v1,[r,i,e,t,n,o]},t.prototype.toPosRotScale=function(){var t;return t=Math.sqrt(this.m00*this.m00+this.m10*this.m10),{pos:[this.v0,this.v1],rot:Math.atan2(this.m10,this.m00),scale:[t,(this.m00*this.m11-this.m10*this.m01)/t]}},t.prototype.getXCenter=function(){return this.v0},t.prototype.getYCenter=function(){return this.v1},t.prototype.scale=function(t,r){return null==r&&(r=t),this.rightComposeWith(new h(t,r))},t.prototype.rotate=function(t){return this.rightComposeWith(new u(t))},t.prototype.translate=function(t,r){return this.rightComposeWith(new c(t,r))},t.prototype.flipX=function(){return this.rightComposeWith(new n)},t.prototype.flipY=function(){return this.rightComposeWith(new i)},t.prototype.reflect=function(t,r){return null!=r?this.rightComposeWith(new s(t,r)):this.rightComposeWith(new o(t))},t}(),u=function(t){function r(t){r.__super__.constructor.call(this,Math.cos(t),-Math.sin(t),Math.sin(t),Math.cos(t),0,0)}return f(r,t),r}(t),h=function(t){function r(t,n){r.__super__.constructor.call(this,t,0,0,n,0,0)}return f(r,t),r}(t),c=function(t){function r(t,n){r.__super__.constructor.call(this,1,0,0,1,t,n)}return f(r,t),r}(t),s=function(t){function r(t,n){r.__super__.constructor.call(this,2*t*t-1,2*t*n,2*t*n,2*n*n-1,0,0)}return f(r,t),r}(t),o=function(t){function r(t){r.__super__.constructor.call(this,Math.cos(t,Math.sin(t)))}return f(r,t),r}(s),n=function(t){function r(){r.__super__.constructor.call(this,-1,0,0,1,0,0)}return f(r,t),r}(t),i=function(t){function r(){r.__super__.constructor.call(this,1,0,0,-1,0,0)}return f(r,t),r}(t),e=function(t){function r(t){var n,i,e;n=t.pos,i=t.rot,e=t.scale,r.__super__.constructor.call(this),this.translate(n[0],n[1]),this.rotate(i),"number"==typeof e?this.scale(e):1===e.length?this.scale(e[0]):this.scale(e[0],e[1])}return f(r,t),r}(t),r.affine2d=t,r.rotation=u,r.scaling=h,r.translation=c,r.reflectionUnit=s,r.reflection=o,r.flipX=n,r.flipY=i,r.posRotScale=e}).call(this)},function(t,r,n){(function(){r.affine=n(1),r.polygon=n(5)}).call(this)},function(t,r,n){"use strict";function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var e=function(){function t(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(r,n,i){return n&&t(r.prototype,n),i&&t(r,i),r}}(),o=function(){function t(r,n,e){i(this,t),this.x=r,this.y=n,this.angle=e,this.bot=null,this.type=Bot.Device.Type.Unknown}return e(t,[{key:"onRegister",value:function(t){this.bot=t}},{key:"isForwardFacing",get:function(){return Math.abs(this.angle)<Math.PI/2}}]),t}();o.Type={Wheel:"wheel",ObstructionSensor:"obstruction-sensor",Unknown:"unknown"},t.exports=o},function(t,r,n){"use strict";t.exports.add=n(7)(2),t.exports.copy=n(8)(2),t.exports.cross=n(9)(2),t.exports.distance=n(10)(2),t.exports.divide=n(11)(2),t.exports.heading=n(12)(2),t.exports.limit=n(13)(2),t.exports.magnitude=n(14)(2),t.exports.multiply=n(15)(2),t.exports.normalize=n(16)(2),t.exports.subtract=n(17)(2),t.exports.rotate=function(t,r){return[t[0]*Math.cos(r)-t[1]*Math.sin(r),t[0]*Math.sin(r)+t[1]*Math.cos(r)]}},function(t,r,n){(function(){var t;n(1),t=function(){function t(t){this.vertices=null!=t?t:[]}return t.prototype.copy=function(){var r,n,i,e,o;for(r=[],o=this.vertices,i=0,e=o.length;i<e;i++)n=o[i],r.push(n.copy());return new t(r)},t.prototype.addVertex=function(t){return this.vertices.push(t)},t.prototype.transform=function(t){var r,n,i,e,o;for(e=this.vertices,o=[],n=0,i=e.length;n<i;n++)r=e[n],o.push(t.transformVec(r));return o},t.prototype.getBoundingRectangle=function(){var t,r,n,i,e,o;for(n=null,o=this.vertices,t=i=0,e=o.length;i<e;t=++i)r=o[t],0===t?n=[[r[0],r[1]],[r[0],r[1]]]:(r[0]<n[0][0]&&(n[0][0]=r[0]),r[0]>n[1][0]&&(n[1][0]=r[0]),r[1]<n[0][1]&&(n[0][1]=r[1]),r[1]>n[1][1]&&(n[1][1]=r[1]));return n},t}(),r.polygon=t,r.factory={unitSquare:function(){return new t([[.5,.5],[-.5,.5],[-.5,-.5],[.5,-.5]])},unitCircleApprox:function(r){var n,i,e,o;for(i=2*Math.PI/r,e=0,n=new t,o=0;0<=r?o<r:o>r;0<=r?++o:--o)e+=i,n.addVertex([.5*Math.cos(e),.5*Math.sin(e)]);return n}}}).call(this)},function(t,r,n){"use strict";function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var e=function(){function t(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(r,n,i){return n&&t(r.prototype,n),i&&t(r,i),r}}(),o=n(3),s=function(){function t(){i(this,t),this.devices=[],this.status=t.Status.Idle,this.timer=setInterval(this.loop.bind(this),100)}return e(t,[{key:"registerDevice",value:function(t){this.devices.push(t),t.onRegister&&t.onRegister(this)}},{key:"loop",value:function(){this.status==t.Status.Idle?this.forward():this.status==t.Status.Forward&&this.checkObstruction()}},{key:"forward",value:function(){if(!this.checkObstruction()){var r=!0,n=!1,i=void 0;try{for(var e,s=this.devices[Symbol.iterator]();!(r=(e=s.next()).done);r=!0){var u=e.value;u.type==o.Type.Wheel&&u.setSpeed(1)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}this.status=t.Status.Forward}}},{key:"turnRight",value:function(){var r=!0,n=!1,i=void 0;try{for(var e,s=this.devices[Symbol.iterator]();!(r=(e=s.next()).done);r=!0){var u=e.value;u.type==o.Type.Wheel&&u.setSpeed(u.x>0?1:-1)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}this.status=t.Status.Turning}},{key:"checkObstruction",value:function(){var t=this,r=!0,n=!1,i=void 0;try{for(var e,s=this.devices[Symbol.iterator]();!(r=(e=s.next()).done);r=!0){var u=e.value;if(u.type==o.Type.ObstructionSensor&&(u.isForwardFacing&&!(-1==u.obstructionAt||u.obstructionAt>20)))return this.turnRight(),setTimeout(function(r){t.forward()},1e3+2e3*Math.random()),!0}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return!1}}]),t}();s.Status={Idle:"Idle",Forward:"Forward",Turning:"Turning"},t.exports=s,t.exports.Device=o,t.exports.Vector2=n(4),t.exports.Affine=n(2).affine},function(t,r,n){t.exports=n(0)("add","+")},function(t,r){function n(t){return t.slice(0)}t.exports=function(){return n}},function(t,r){function n(t,r){return t[0]*r[1]-t[1]*r[0]}function i(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}t.exports=function(t){if(2===(t=0|+t))return n;if(3===t)return i;throw new Error("cross product only supported for 2 and 3 dimensions")}},function(t,r){function n(t){t=0|+t;var r=[];r.push("return function dist"+t+"(vec, other) {");for(var n=[],i=0;i<t;i+=1)r.push("var p"+i+" = other["+i+"]-vec["+i+"]"),n.push("p"+i+"*p"+i);return r.push("return Math.sqrt("+n.join(" + ")+")"),r.push("}"),Function(r.join("\n"))()}t.exports=n},function(t,r,n){t.exports=n(0)("div","/")},function(t,r){function n(t){if(2!==(t=0|+t))throw new Error("`vectors.heading` only works in 2 dimensions");return function(t,r){return Math.atan2(t[1]-r[1],t[0]-r[0])}}t.exports=n},function(t,r){function n(t){t=0|+t;var r=[];r.push("return function limit"+t+"(vec, scalar) {");for(var n=[],i=0;i<t;i+=1)n.push("vec["+i+"] * vec["+i+"]");r.push("var mag = "+n.join("+")),r.push("if (mag > scalar*scalar) {"),r.push("mag = Math.sqrt(mag)");for(var i=0;i<t;i+=1)r.push("vec["+i+"] = vec["+i+"] * scalar / mag");return r.push("}"),r.push("return vec"),r.push("}"),Function(r.join("\n"))()}t.exports=n},function(t,r){function n(t){t=0|+t;var r=[];r.push("return function mag"+t+"(vec) {"),r.push("return Math.sqrt(");for(var n=[],i=0;i<t;i+=1)n.push("vec["+i+"]*vec["+i+"]");return r.push(n.join("+")),r.push(")"),r.push("}"),Function(r.join("\n"))()}t.exports=n},function(t,r,n){t.exports=n(0)("mult","*")},function(t,r){function n(t){t=0|+t;var r=[];r.push("return function normalize"+t+"(vec, scalar) {");for(var n=[],i=0;i<t;i+=1)n.push("vec["+i+"]*vec["+i+"]");r.push("var mag = Math.sqrt("+n.join("+")+")"),r.push("if (mag === 0) {");for(var i=0;i<t;i+=1)r.push("vec["+i+"] = 0");r.push("} else {");for(var i=0;i<t;i+=1)r.push("vec["+i+"] /= mag");return r.push("}"),r.push("return vec"),r.push("}"),Function(r.join("\n"))()}t.exports=n},function(t,r,n){t.exports=n(0)("sub","-")}]);